services:
  - type: web
    name: ai-risk-api
    env: python
    plan: free
    buildCommand: pip install -r ../requirements.txt   # ðŸ‘ˆ subir un nivel
    startCommand: uvicorn main:app --host=0.0.0.0 --port=10000
    envVars:
      - key: OPENAI_API_KEY
        sync: false
      #- key: MODEL_NAME
      # value: gpt-4o
    autoDeploy: true
    rootDir: app   # ðŸ‘ˆ Importante: solo backend aquÃ­

  - type: web
    name: ai-risk-ui
    env: python
    plan: free
    buildCommand: pip install -r ../requirements.txt   # ðŸ‘ˆ subir un nivel
    startCommand: streamlit run ui/app.py --server.port 10001 --server.address=0.0.0.0
    envVars:
    - key: API_URL
      value: https://ai-risk-radar-api.onrender.com/analyze
    autoDeploy: true
    rootDir: ui   # ðŸ‘ˆ Importante: solo frontend aquÃ­
